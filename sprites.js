// sprites.js â€” ForkArcade pixel art sprites
// Generated from _sprites.json by create_sprite tool

var SPRITE_DEFS = {
  "tiles": {
    "wall": {
      "w": 10,
      "h": 10,
      "palette": {
        "C": "#322a22",
        "F": "#2a2520",
        "P": "#3a3228",
        "S": "#241e18",
        "I": "#1a1610",
        "L": "#3a3025"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII",
          "IIIIIIIIII"
        ],
        [
          "SSSSSSSSSS",
          "SSSSSSSSSS",
          "IIIIIIIIII",
          "IIIIILIIII",
          "IIIIILIIII",
          "IIIIILIIII",
          "IIIIILIIII",
          "IIIIILIIII",
          "IIIIILIIII",
          "IIIIIIIIII"
        ],
        [
          "CCCCCCCCCC",
          "CCCCCCCCCC",
          "CCCCCCCCCC",
          "LLLLLLLLLL",
          "FFFFFFFFFF",
          "FFFFFSFFFF",
          "FFFFFSFFFF",
          "FFFFFSFFFF",
          "FFFFFSFFFF",
          "PPPPPPPPPP"
        ],
        [
          "CCCCCCCCCC",
          "CCCCCCCCCC",
          "CCCCCCCCCC",
          "LLLLLLLLLL",
          "FFFFFFFFFF",
          "FFFFFSFFFF",
          "FFFFFSFFFF",
          "FFFFFSFFFF",
          "FFFFFSFFFF",
          "PPPPPPPPPP"
        ],
        [
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS",
          "IIIIIIIISS"
        ],
        [
          "SSSSSSSSSS",
          "SSSSSSSSSS",
          "IIIIIIIISS",
          "IIIIILIISS",
          "IIIIILIISS",
          "IIIIILIISS",
          "IIIIILIISS",
          "IIIIILIISS",
          "IIIIILIISS",
          "IIIIIIIISS"
        ],
        [
          "CCCCCCCCSS",
          "CCCCCCCCSS",
          "CCCCCCCCSS",
          "LLLLLLLLSS",
          "FFFFFFFFSS",
          "FFFFFSFFSS",
          "FFFFFSFFSS",
          "FFFFFSFFSS",
          "FFFFFSFFSS",
          "PPPPPPPPSS"
        ],
        [
          "CCCCCCCCSS",
          "CCCCCCCCSS",
          "CCCCCCCCSS",
          "LLLLLLLLSS",
          "FFFFFFFFSS",
          "FFFFFSFFSS",
          "FFFFFSFFSS",
          "FFFFFSFFSS",
          "FFFFFSFFSS",
          "PPPPPPPPSS"
        ],
        [
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII",
          "SSIIIIIIII"
        ],
        [
          "SSSSSSSSSS",
          "SSSSSSSSSS",
          "SSIIIIIIII",
          "SSIIILIIII",
          "SSIIILIIII",
          "SSIIILIIII",
          "SSIIILIIII",
          "SSIIILIIII",
          "SSIIILIIII",
          "SSIIIIIIII"
        ],
        [
          "SSCCCCCCCC",
          "SSCCCCCCCC",
          "SSCCCCCCCC",
          "SSLLLLLLLL",
          "SSFFFFFFFF",
          "SSFFFSFFFF",
          "SSFFFSFFFF",
          "SSFFFSFFFF",
          "SSFFFSFFFF",
          "SSPPPPPPPP"
        ],
        [
          "SSCCCCCCCC",
          "SSCCCCCCCC",
          "SSCCCCCCCC",
          "SSLLLLLLLL",
          "SSFFFFFFFF",
          "SSFFFSFFFF",
          "SSFFFSFFFF",
          "SSFFFSFFFF",
          "SSFFFSFFFF",
          "SSPPPPPPPP"
        ],
        [
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS",
          "SSIIIIIISS"
        ],
        [
          "SSSSSSSSSS",
          "SSSSSSSSSS",
          "SSIIIIIISS",
          "SSIIILIISS",
          "SSIIILIISS",
          "SSIIILIISS",
          "SSIIILIISS",
          "SSIIILIISS",
          "SSIIILIISS",
          "SSIIIIIISS"
        ],
        [
          "SSCCCCCCSS",
          "SSCCCCCCSS",
          "SSCCCCCCSS",
          "SSLLLLLLSS",
          "SSFFFFFFSS",
          "SSFFFSFFSS",
          "SSFFFSFFSS",
          "SSFFFSFFSS",
          "SSFFFSFFSS",
          "SSPPPPPPSS"
        ],
        [
          "SSCCCCCCSS",
          "SSCCCCCCSS",
          "SSCCCCCCSS",
          "SSLLLLLLSS",
          "SSFFFFFFSS",
          "SSFFFSFFSS",
          "SSFFFSFFSS",
          "SSFFFSFFSS",
          "SSFFFSFFSS",
          "SSPPPPPPSS"
        ]
      ]
    },
    "floor": {
      "w": 10,
      "h": 10,
      "palette": {
        "A": "#1a1814",
        "B": "#1c1a16",
        "D": "#22201a"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA"
        ],
        [
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBDBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB"
        ]
      ]
    },
    "indoor": {
      "w": 10,
      "h": 10,
      "palette": {
        "A": "#201a18",
        "B": "#221c1a",
        "D": "#2a2420"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA",
          "AAAAAAAAAA"
        ],
        [
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBDBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB"
        ]
      ]
    },
    "garden": {
      "w": 10,
      "h": 10,
      "palette": {
        "B": "#0a2010",
        "G": "#1a4020",
        "A": "#2a6030"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "BBBBBBBBBB",
          "BBBBBBBBBB",
          "BBGGGGGGBB",
          "BBGGGGGGBB",
          "BBGGAAGGBB",
          "BBGGAAGGBB",
          "BBGGGGGGBB",
          "BBGGGGGGBB",
          "BBBBBBBBBB",
          "BBBBBBBBBB"
        ]
      ]
    },
    "notice_board": {
      "w": 10,
      "h": 10,
      "palette": {
        "B": "#1a1a10",
        "Y": "#8a7a40",
        "T": "#aa9a50"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "..........",
          "..........",
          "..BBBBBB..",
          "..BYYYYB..",
          "..BYTTYB..",
          "..BYTTYB..",
          "..BYYYYB..",
          "..BYYYYB..",
          "..BBBBBB..",
          ".........."
        ]
      ]
    },
    "sidewalk": {
      "w": 10,
      "h": 10,
      "palette": {
        "B": "#1e1a14",
        "E": "#14120e",
        "D": "#2a2418"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "EBBBBBBBBE",
          "EBBBBBBBBE",
          "EBBBBBBBBE",
          "EBBBBBBBBE",
          "EBBDDBBBBE",
          "EBBBBBBBBE",
          "EBBBBBBBBE",
          "EBBBBBBBBE",
          "EBBBBBBBBE",
          "EBBBBBBBBE"
        ]
      ]
    },
    "bed": {
      "w": 10,
      "h": 10,
      "palette": {
        "F": "#1a1838",
        "P": "#2a2858"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "..........",
          "..........",
          "..........",
          "..FFFFFF..",
          "..FFFFFF..",
          "..FPPPPF..",
          "..FPPPPF..",
          "..FFFFFF..",
          "..FFFFFF..",
          ".........."
        ]
      ]
    },
    "terminal": {
      "w": 10,
      "h": 10,
      "palette": {
        "B": "#0a2a2a",
        "C": "#00ffff"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "..........",
          "..BBBBBB..",
          "..BCCCCB..",
          "..BBBBBB..",
          "..BBBBBB..",
          "..BBBBBB..",
          "..BBBBBB..",
          "..BCCCCB..",
          "..BBBBBB..",
          ".........."
        ]
      ]
    },
    "system_entrance": {
      "w": 10,
      "h": 10,
      "palette": {
        "B": "#1a0a00",
        "O": "#ff8800"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "..........",
          "..BBBBBB..",
          "..BOOOOB..",
          "..BBBBBB..",
          "..BBBBBB..",
          "..BBBBBB..",
          "..BBBBBB..",
          "..BOOOOB..",
          "..BBBBBB..",
          ".........."
        ]
      ]
    },
    "cafe_table": {
      "w": 10,
      "h": 10,
      "palette": {
        "O": "#2a2018",
        "I": "#332a20"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "..........",
          "..........",
          "..........",
          "...OOOO...",
          "...OIIO...",
          "...OIIO...",
          "...OOOO...",
          "..........",
          "..........",
          ".........."
        ]
      ]
    }
  }
}

function drawSprite(ctx, spriteDef, x, y, size, frame) {
  if (!spriteDef) return false
  frame = frame || 0
  frame = frame % spriteDef.frames.length
  var key = size + '_' + frame
  if (!spriteDef._c) spriteDef._c = {}
  if (!spriteDef._c[key]) {
    var cv = document.createElement('canvas')
    cv.width = size
    cv.height = size
    var cc = cv.getContext('2d')
    var pixels = spriteDef.frames[frame]
    var pw = size / spriteDef.w
    var ph = size / spriteDef.h
    for (var row = 0; row < spriteDef.h; row++) {
      var line = pixels[row]
      for (var col = 0; col < spriteDef.w; col++) {
        var ch = line[col]
        if (ch === ".") continue
        var color = spriteDef.palette[ch]
        if (!color) continue
        cc.fillStyle = color
        cc.fillRect(col * pw, row * ph, Math.ceil(pw), Math.ceil(ph))
      }
    }
    spriteDef._c[key] = cv
  }
  var ox = spriteDef.origin[0] * (size / spriteDef.w)
  var oy = spriteDef.origin[1] * (size / spriteDef.h)
  ctx.drawImage(spriteDef._c[key], x - ox, y - oy)
  return true
}

function getSprite(category, name) {
  return SPRITE_DEFS[category] && SPRITE_DEFS[category][name] || null
}

function spriteFrames(spriteDef) {
  return spriteDef ? spriteDef.frames.length : 0
}
